(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const p of l.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function c(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(r){if(r.ep)return;r.ep=!0;const l=c(r);fetch(r.href,l)}})();const $=524291,X=1835009,Y=524672,W=1048832,b=1048833,q=1048834,G=1048835,j=1048836,V=4294967295,i=4,Z=16777224,H=33554440,K=50331656,z=83886088,J=100663304,Q=268435464,ee=67108872,te=285212680,ne=301989896,re=469762056,se=486539272,oe=["px","dp","sp","pt","in","mm"];function ce(t,e){e=e||{};let c,a,r,l,p;const E=new Map;let o=0;for(;o<t.length;)switch(t.readUInt32LE(o)){case $:R();break;case X:w();break;case Y:_();break;case W:N(!0);break;case b:N(!1);break;case q:S();break;case G:C();break;case j:A();break;case V:e.endDocument&&e.endDocument();break;default:o+=i;break}e.endDocument&&e.endDocument();function R(){e.startDocument&&e.startDocument(),o+=2*i}function w(){const n=t.readUInt32LE(o+i);c=t.readUInt32LE(o+2*i),t.readUInt32LE(o+3*i),r=t.readUInt32LE(o+4*i);const s=o+t.readUInt32LE(o+5*i);t.readUInt32LE(o+6*i),a=[];for(let d=0;d<c;++d){const u=s+t.readUInt32LE(o+(d+7)*i);a[d]=k(u)}o+=n}function _(){const n=t.readUInt32LE(o+i);l=n/4-2,p=[];for(let s=0;s<l;++s)p[s]=t.readUInt32LE(o+(s+2)*i);o+=n}function N(n){const s=t.readUInt32LE(o+4*i),d=t.readUInt32LE(o+5*i),u=h(d),m=h(s);n?(e.startPrefixMapping&&e.startPrefixMapping(m,u),E.set(u,m)):(e.endPrefixMapping&&e.endPrefixMapping(m,u),E.delete(u)),o+=6*i}function S(){const n=t.readUInt32LE(o+4*i),s=t.readUInt32LE(o+5*i),d=t.readUInt16LE(o+7*i),u=h(s);let m,f;n===4294967295?(m="",f=u):(m=h(n),E.has(m)?f=E.get(m)+":"+u:f=u),o+=9*i;const g=[];for(let T=0;T<d;T++)g[T]=P(),o+=5*4;e.startElement&&e.startElement(m,u,f,g)}function P(){const n=t.readUInt32LE(o),s=t.readUInt32LE(o+i),d=t.readUInt32LE(o+2*i),u=t.readUInt32LE(o+3*i),m=t.readUInt32LE(o+4*i),f={name:h(s)};if(n===4294967295)f.namespace=null,f.prefix=null;else{const g=h(n);E.has(g)&&(f.namespace=g,f.prefix=E.get(g))}return d===4294967295?f.value=M(u,m):f.value=h(d),f}function A(){const n=t.readUInt32LE(o+4*i),s=h(n);e.characterData(s),o+=7*i}function C(){const n=t.readUInt32LE(o+4*i),s=t.readUInt32LE(o+5*i),d=h(s);let u;n===4294967295?u="":u=h(n),e.endElement&&e.endElement(u,d,null),o+=6*i}function h(n){return n>=0&&n<c?a[n]:null}function k(n){if(r&256){t.readUInt8(n);const s=t.readUInt8(n+1);return n+=2,t.slice(n,n+s).toString()}else{const s=t.readUInt16LE(n);n+=2;const d=t.slice(n,n+s*2);return B(d)}}function B(n){const s=[];for(let d=0;d<n.length;d+=2)s.push(n[d]|n[d+1]<<8);return String.fromCharCode.apply(String,s)}function M(n,s){switch(n){case K:return h(s);case z:return(s>>8)+oe[s&255];case J:const d=s/2147483647;return sprintf("%.2f",d);case ee:const u=new ArrayBuffer(4);return new Float32Array(u)[0]=s,new Uint32Array(u)[0];case Q:case te:return s;case ne:return s!==0;case re:case se:return sprintf("#%08X",s);case Z:return sprintf("@id/0x%08X",s);case H:return sprintf("?id/0x%08X",s);default:return sprintf("%08X/0x%08X",n,s)}}}class L{constructor(e){this.buffer=e,this.view=new DataView(e),this.currentNode=null,this.rootNode=null,this.nodeStack=[]}readUInt32LE(e){return this.view.getUint32(e,!0)}readUInt16LE(e){return this.view.getUint16(e,!0)}readUInt8(e){return this.view.getUint8(e)}slice(e,c){return new Uint8Array(this.buffer.slice(e,c))}get length(){return this.buffer.byteLength}parse(){const e={startDocument:()=>{this.rootNode={type:"document",children:[]},this.currentNode=this.rootNode},endDocument:()=>{},startPrefixMapping:(c,a)=>{this.currentNode&&(this.currentNode.prefixes||(this.currentNode.prefixes=[]),this.currentNode.prefixes.push([c,a]))},endPrefixMapping:(c,a)=>{},startElement:(c,a,r,l)=>{const p={uri:c,localName:a,qName:r,attrs:l,children:[]};this.currentNode&&(this.nodeStack.push(this.currentNode),this.currentNode.children.push(p)),this.currentNode=p},endElement:(c,a,r)=>{this.nodeStack.length>0&&(this.currentNode=this.nodeStack.pop())},characterData:c=>{this.currentNode&&c.trim()&&this.currentNode.children.push({type:"text",value:c})}};return e.startDocument(),ce(this,e),this.convertToXml(this.rootNode)}convertToXml(e,c=""){if(!e)return"";let a="";if(e.type==="document"){a+=`<?xml version="1.0" encoding="utf-8"?>
`;for(const r of e.children)a+=this.convertToXml(r,c);return a}if(e.type==="text")return`${c}${e.value}
`;if(a+=`${c}<${e.qName}`,e.prefixes)for(const[r,l]of e.prefixes)a+=` xmlns:${r}="${l}"`;if(e.attrs)for(const r of e.attrs)r.prefix?a+=` ${r.prefix}:${r.name}="${r.value}"`:a+=` ${r.name}="${r.value}"`;if(!e.children||e.children.length===0)return a+=`/>
`,a;a+=`>
`;for(const r of e.children)a+=this.convertToXml(r,c+"  ");return a+=`${c}</${e.qName}>
`,a}static convert(e){return new L(e).parse()}}const x=document.getElementById("dropZone"),D=document.getElementById("fileInput"),y=document.getElementById("output"),v=document.getElementById("downloadBtn"),F=document.getElementById("copyBtn"),ae=document.getElementById("loading"),ie=document.getElementById("filename");let I="";function U(t){ae.style.display=t?"block":"none"}function le(){if(!I)return;const t=new Blob([I],{type:"text/xml"}),e=URL.createObjectURL(t),c=document.createElement("a");c.href=e,c.download="AndroidManifest.xml",document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(e)}async function O(t){try{ie.textContent=`Selected File: ${t.name}`,U(!0);const e=await new Promise((a,r)=>{const l=new FileReader;l.onload=p=>a(p.target.result),l.onerror=r,l.readAsArrayBuffer(t)}),c=L.convert(e);I=c,y.innerHTML=hljs.highlight(c,{language:"xml"}).value,y.className="output hljs",v.disabled=!1,F.style.display="block"}catch(e){y.innerHTML=`<div class="error">Error：${e.message}</div>`,v.disabled=!0,F.style.display="none"}finally{U(!1)}}x.addEventListener("click",()=>D.click());v.addEventListener("click",le);F.addEventListener("click",()=>{navigator.clipboard.writeText(I).then(()=>{const t=F.textContent;F.textContent="Copied！",setTimeout(()=>{F.textContent=t},2e3)})});x.addEventListener("dragover",t=>{t.preventDefault(),x.classList.add("dragover")});x.addEventListener("dragleave",()=>{x.classList.remove("dragover")});x.addEventListener("drop",t=>{t.preventDefault(),x.classList.remove("dragover");const e=t.dataTransfer.files;e.length>0&&O(e[0])});D.addEventListener("change",t=>{t.target.files.length>0&&O(t.target.files[0])});
